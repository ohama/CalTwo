---
phase: 04-e2e-testing-and-ci
plan: 03
type: execute
wave: 3
depends_on: ["04-01", "04-02"]
files_modified:
  - tutorial/phase-04.md
autonomous: true

must_haves:
  truths:
    - "Korean tutorial explains Playwright setup step-by-step for beginners"
    - "Korean tutorial explains GitHub Actions CI configuration"
    - "Tutorial includes actual code examples from the project"
  artifacts:
    - path: "tutorial/phase-04.md"
      provides: "Korean tutorial for Phase 4 (Playwright + CI)"
      min_lines: 200
  key_links:
    - from: "tutorial/phase-04.md"
      to: "playwright.config.ts"
      via: "Code reference and explanation"
      pattern: "playwright.config"
    - from: "tutorial/phase-04.md"
      to: ".github/workflows/ci.yml"
      via: "Code reference and explanation"
      pattern: "ci.yml"
---

<objective>
Write a comprehensive Korean tutorial explaining Playwright E2E testing setup and GitHub Actions CI configuration for beginners.

Purpose: Korean-language learning resource that helps beginner developers understand browser automation testing and CI/CD concepts.
Output: `tutorial/phase-04.md` following the established tutorial style from phases 01-03.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-e2e-testing-and-ci/04-01-SUMMARY.md
@.planning/phases/04-e2e-testing-and-ci/04-02-SUMMARY.md
@tutorial/phase-01.md
@tutorial/phase-02.md
@tutorial/phase-03.md
@playwright.config.ts
@e2e/calculator.spec.ts
@.github/workflows/ci.yml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write Korean tutorial for Phase 4</name>
  <files>tutorial/phase-04.md</files>
  <action>
Create `tutorial/phase-04.md` following the established tutorial style from previous phases. The tutorial MUST be written entirely in Korean (except for code blocks, technical terms, and file names).

Read `tutorial/phase-01.md`, `tutorial/phase-02.md`, and `tutorial/phase-03.md` first to match the established style: structure, depth, formatting, and Korean voice.

Structure:

1. **제목 및 개요** — Phase 4 overview: E2E testing and CI
2. **학습 목표** — What the reader will learn (Playwright, E2E test writing, GitHub Actions)
3. **E2E 테스트란?** — Explain what E2E tests are, how they differ from unit tests. Use the calculator as an example: unit tests check `update` function logic, E2E tests click buttons in a real browser and check the display.
4. **Playwright 소개** — What Playwright is, why it was chosen (auto-waiting, cross-browser, headless). Compare briefly with Selenium/Cypress.
5. **Playwright 설치 및 설정** — Step-by-step installation:
   - `npm install -D @playwright/test typescript @types/node`
   - `npx playwright install chromium`
   - Explain each dependency
6. **프로젝트 설정 변경** — Explain changes made to existing files:
   - `data-testid="display"` added to App.fs (why: stable test locator)
   - `strictPort: true` in vite.config.js (why: prevent port conflicts)
   - Include actual code snippets from the project files
7. **playwright.config.ts 설명** — Walk through each config option:
   - testDir, fullyParallel, forbidOnly
   - webServer (auto-start Vite)
   - use options (baseURL, screenshot, trace)
   - projects (Chromium only)
   - Include the actual config file content
8. **E2E 테스트 작성** — Explain the test file structure:
   - Import statements
   - test.describe and test.beforeEach
   - Walk through 2-3 test cases in detail (addition, divide-by-zero, clear)
   - Explain locator strategy: getByRole for buttons, getByTestId for display
   - Explain web-first assertions (await expect(...).toHaveText(...))
   - Include the actual test code from e2e/calculator.spec.ts
9. **테스트 실행** — How to run tests locally:
   - `npx playwright test` (headless)
   - `npx playwright test --headed` (visible browser)
   - `npx playwright test --ui` (interactive mode)
   - `npx playwright show-report` (view HTML report)
10. **GitHub Actions CI** — Explain CI/CD concept for beginners:
    - What is CI (Continuous Integration)?
    - Why automate tests? (catch bugs early, no manual verification)
    - Walk through the ci.yml file step by step
    - Explain each step: checkout, setup-dotnet, setup-node, npm ci, unit tests, Playwright install, E2E tests, artifact upload
    - Explain caching strategy (node_modules + Playwright browsers)
    - Include the actual workflow file content
11. **문제 해결** — Common troubleshooting:
    - "Browser not found" -> `npx playwright install chromium`
    - "Port 5173 already in use" -> kill existing process, strictPort
    - "Test timeout" -> check if dev server starts correctly
    - "Element not found" -> check locator (button name, testId)
12. **정리** — Summary of what was accomplished, link to next phase

Use Korean comments in code examples where they add clarity. Reference file paths and commands exactly as they appear in the project.
  </action>
  <verify>
  Verify the file exists with `wc -l tutorial/phase-04.md` (should be 200+ lines). Check that it contains Korean text with `grep -c "[가-힣]" tutorial/phase-04.md` (should be high count). Verify it references actual project files with `grep "playwright.config" tutorial/phase-04.md` and `grep "ci.yml" tutorial/phase-04.md`.
  </verify>
  <done>Korean tutorial at `tutorial/phase-04.md` explains Playwright setup, E2E test writing, and GitHub Actions CI configuration step-by-step for beginners, following the established tutorial style.</done>
</task>

</tasks>

<verification>
1. `tutorial/phase-04.md` exists with 200+ lines
2. Tutorial is written in Korean (Korean characters present throughout)
3. Tutorial references actual project files (playwright.config.ts, calculator.spec.ts, ci.yml)
4. Tutorial includes working code examples from the project
5. Tutorial style matches previous phase tutorials
</verification>

<success_criteria>
- Tutorial exists at `tutorial/phase-04.md` with comprehensive Korean content
- Explains E2E testing concepts for beginners
- Walks through Playwright installation and configuration step-by-step
- Explains GitHub Actions CI workflow step-by-step
- Includes actual code from the project (not hypothetical examples)
- Follows established tutorial style from phases 01-03
</success_criteria>

<output>
After completion, create `.planning/phases/04-e2e-testing-and-ci/04-03-SUMMARY.md`
</output>
